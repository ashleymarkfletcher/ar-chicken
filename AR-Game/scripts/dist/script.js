!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=8)}([function(n,t){n.exports=require("Time")},function(n,t){n.exports=require("Diagnostics")},function(n,t){n.exports=require("TouchGestures")},function(n,t){n.exports=require("Reactive")},function(n,t){n.exports=require("Animation")},function(n,t){n.exports=require("FaceTracking")},function(n,t){n.exports=require("Scene")},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(2),i=(e(1),e(0)),o=t.toggle=function(n,t){return n.hidden=t},a=t.hide=function(n){return o(n,!0)},c=t.show=function(n){return o(n,!1)},u=(t.showMultiple=function(n){return n.forEach(c)},t.hideMultiple=function(n){return n.forEach(a)},t.updateText=function(n,t){n.text=t},t.tapRegistrar=function(n,t){return r.onTap(n).subscribe(t)},t.getChildren=function(n,t,e){for(var r=[],i=0;i<e;i++)r.push(n.child(t+i));return r},t.randomNum=function(n,t){return Math.floor(Math.random()*t)+n});t.randomElement=function(n){return n[u(0,n.length)]},t.collision=function(n,t,e,r,i,o){var a=e-n,c=r-t;return a*=a,c*=c,Math.hypot(e-n,r-t)<=i},t.countdown=function(n,t,e,r,o){var a=n;return function n(){return i.setTimeout(function(){r(a),a!==t?n():o(a),a--},e)}()}},function(n,t,e){"use strict";var r=e(7),i=e(6),o=(e(1),e(2),e(0)),a=e(5),c=e(4),u=(e(3),i.root.child("Device").child("Camera").child("Focal Distance")),l=u.child("scoreContainer"),s=l.child("scoreText"),d=(u.child("lives").child("2DCanvas1").child("text1"),i.root.child("Device").child("Camera").child("Focal Distance").child("facetracker0")),f=a.face(0).mouth.center,h=a.face(0).mouth.openness.gt(.3).and(a.count.gt(0)),m=u.child("startScreen"),p=m.child("2DCanvas1").child("startButton"),v=u.child("countdown"),g=v.child("text"),x=u.child("endScreen"),C=x.child("2DCanvas1").child("scoreText"),D=x.child("2DCanvas1").child("restartButton"),T=(0,r.getChildren)(u,"chicken",3).map(function(n){return{element:n}}),b=u.child("lives"),y=(0,r.getChildren)(b,"life",5),M=0,S=void 0,w=0,q="start",E=function(){return O((0,r.randomElement)(T))},O=function(n){var t=c.timeDriver({durationMilliseconds:S,loopCount:1,mirror:!1}),e=c.samplers.linear(27,-30),r=c.animate(t,e);n.animationSignal=r,n.animationDriver=t,n.element.transform.y=r,t.start(),t.onCompleted().subscribe(function(n){"playing"===q&&E()}),n.animationSignal.lt(-15).monitor().subscribe(function(n){V(-1)})},_=(h.monitor().subscribe(function(n){if(n.newValue&&"playing"===q){var t=f.x.lastValue,e=f.y.lastValue;T.forEach(function(n){var i=n.element.transform.x.lastValue,o=n.element.transform.y.lastValue;(0,r.collision)(t,e,i,o,15,15)&&(M+=5,(0,r.updateText)(s,"score: "+M.toString()),(0,r.updateText)(C,"Congratulations!\n\n You Scored:\n\n "+M.toString()),n.animationDriver.reset())})}}),function(){q="playing",M=0,(0,r.updateText)(s,"score: "+M.toString()),w+=5,(0,r.hide)(m),(0,r.showMultiple)([b,d,l]),S=4e3,j(w),E()}),V=function(n){(w+=n)?j(w):P()},j=function(n){y.forEach(function(t,e){(0,r.toggle)(t,!(e<n))})},P=function(){q="stopped",(0,r.hideMultiple)([b,d,l]),(0,r.updateText)(C,"Congratulations!\n\n You Scored:\n\n "+M.toString()),(0,r.show)(x),T.forEach(function(n){n.animationDriver&&(n.animationDriver.reset(),n.animationDriver.stop()),n.randomTimeId&&o.clearTimeout(n.randomTimeId)})};(0,r.tapRegistrar)(p,function(n){var t,e,i;(0,r.hide)(m),(0,r.show)(v),t=c.timeDriver({durationMilliseconds:1e3,loopCount:12,mirror:!1}),e=c.samplers.easeOutCubic(1,1.5),i=c.animate(t,e),v.transform.scaleX=i,v.transform.scaleY=i,t.start(),(0,r.countdown)(3,0,1e3,function(n){return(0,r.updateText)(g,n.toString())},function(){(0,r.hide)(v),_()})}),(0,r.tapRegistrar)(D,function(n){(0,r.hide)(x),_()})}]);