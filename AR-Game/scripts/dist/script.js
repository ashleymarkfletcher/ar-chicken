!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=7)}([function(e,n){e.exports=require("Reactive")},function(e,n){e.exports=require("Animation")},function(e,n){e.exports=require("FaceTracking")},function(e,n){e.exports=require("Time")},function(e,n){e.exports=require("TouchGestures")},function(e,n){e.exports=require("Diagnostics")},function(e,n){e.exports=require("Scene")},function(e,n,t){"use strict";var i=c(t(8)),r=c(t(9)),o=c(t(10));function c(e){return e&&e.__esModule?e:{default:e}}var a,u,l=t(6),d=t(5),s=t(4),f=t(3),h=t(2),m=t(1),p=(t(0),l.root.child("Device").child("Camera").child("Focal Distance")),v=p.child("2DCanvas0"),x=v.child("scoreText"),g=(p.child("lives").child("2DCanvas1").child("text1"),l.root.child("Device").child("Camera").child("Focal Distance").child("facetracker0")),b=h.face(0).mouth.openness.gt(.3).and(h.count.gt(0)),D=h.face(0).mouth.center,y=p.child("endScreen"),S=p.child("startScreen"),_=y.child("2DCanvas1").child("scoreText"),C=y.child("2DCanvas1").child("restartButton"),T=S.child("2DCanvas1").child("startButton"),M=[{element:p.child("chicken0")},{element:p.child("chicken1")},{element:p.child("chicken2")}],q=p.child("lives"),O=[q.child("life0"),q.child("life1"),q.child("life2"),q.child("life3"),q.child("life4")],j=p.child("countdown"),P=j.child("text"),k=0,V=0,w="start",E=function(){var e=(0,o.default)(0,3),n=M[e];n.mover=F(n)},F=function(e){var n=m.timeDriver({durationMilliseconds:a,loopCount:1,mirror:!1}),t=e.element,i=m.samplers.linear(27,-30),r=m.animate(n,i);e.animationSignal=r,e.animationDriver=n,t.transform.y=r,n.start(),n.onCompleted().subscribe(function(e){"playing"===w&&E()}),e.animationSignal.lt(-15).monitor().subscribe(function(e){I(-1)})},B=(b.monitor().subscribe(function(e){if(1==e.newValue&&"playing"===w){var n=D.x.lastValue,t=D.y.lastValue;M.forEach(function(e){var i=e.element,o=i.transform.x.lastValue,c=i.transform.y.lastValue;(0,r.default)(n,t,o,c,15,15)&&(k+=5,x.text="score: "+k.toString(),_.text="Congratulations!\n You Scored:\n "+k.toString(),k>=10&&(a=2e3),e.animationDriver.reset())})}}),function(){w="playing",x.text="score: "+k.toString(),V+=5,q.hidden=!1,g.hidden=!1,v.hidden=!1,S.hidden=!0,a=4e3,Y(V),E()}),I=function(e){V?Y(V+=e):(d.log("game over!"),G())},Y=function(e){O.forEach(function(n,t){n.hidden=!(t<e)})},A=function(e){_.text="Congratulations!\n You Scored:\n "+k.toString(),y.hidden=!e},G=function(){w="stopped",q.hidden=!0,g.hidden=!0,v.hidden=!0,A(!0),M.forEach(function(e){e.animationDriver&&(e.animationDriver.reset(),e.animationDriver.stop()),e.randomTimeId&&f.clearTimeout(e.randomTimeId)})},R=function(e,n){e.text=n},z=function(e,n){return e.hidden=n},H=function(e){return z(e,!0)},J=function(e){return z(e,!1)};u=C,s.onTap(u).subscribe(function(e){d.log("restart!"),A(!1),k=0,B()}),function(e){s.onTap(e).subscribe(function(e){d.log("start!"),J(j),(0,i.default)(5,0,1e3,function(e){return R(P,e.toString())},function(){H(j),B()})})}(T)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(3);t(5);n.default=function(e,n,t,r,o){var c=e;!function e(){return i.setTimeout(function(){r(c),c!==n?e():o(c),c--},t)}()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e,n,t,i,r,o){var c=t-e,a=i-n;return c*=c,a*=a,Math.hypot(t-e,i-n)<=r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e,n){return Math.floor(Math.random()*n)+e}}]);