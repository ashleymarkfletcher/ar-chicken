!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e){t.exports=require("TouchGestures")},function(t,e){t.exports=require("Diagnostics")},function(t,e){t.exports=require("Time")},function(t,e){t.exports=require("Reactive")},function(t,e){t.exports=require("Animation")},function(t,e){t.exports=require("FaceTracking")},function(t,e){t.exports=require("Scene")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=(n(1),e.toggle=function(t,e){return t.hidden=e}),o=e.hide=function(t){return i(t,!0)},u=e.show=function(t){return i(t,!1)},a=(e.showMultiple=function(t){return t.forEach(u)},e.hideMultiple=function(t){return t.forEach(o)},e.updateText=function(t,e){t.text=e},e.tapRegistrar=function(t,e){return r.onTap(t).subscribe(e)},e.getChildren=function(t,e,n){for(var r=[],i=0;i<n;i++)r.push(t.child(e+i));return r},e.randomNum=function(t,e){return Math.floor(Math.random()*e)+t});e.randomElement=function(t){return t[a(0,t.length)]}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n,r,i,o){var u=n-t,a=r-e;return u*=u,a*=a,Math.hypot(n-t,r-e)<=i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.default=function(t,e,n,i,o){var u=t;return function t(){return r.setTimeout(function(){i(u),u!==e?t():o(u),u--},n)}()}},function(t,e,n){"use strict";var r=u(n(10)),i=u(n(9)),o=n(7);function u(t){return t&&t.__esModule?t:{default:t}}var a=n(6),c=n(1),l=(n(0),n(2)),s=n(5),f=n(4),d=(n(3),a.root.child("Device").child("Camera").child("Focal Distance")),h=d.child("2DCanvas0"),p=h.child("scoreText"),m=(d.child("lives").child("2DCanvas1").child("text1"),a.root.child("Device").child("Camera").child("Focal Distance").child("facetracker0")),g=s.face(0).mouth.openness.gt(.3).and(s.count.gt(0)),v=s.face(0).mouth.center,x=d.child("startScreen"),b=x.child("2DCanvas1").child("startButton"),D=d.child("countdown"),T=D.child("text"),y=d.child("endScreen"),C=y.child("2DCanvas1").child("scoreText"),M=y.child("2DCanvas1").child("restartButton"),S=(0,o.getChildren)(d,"chicken",3).map(function(t){return{element:t}}),_=d.child("lives"),q=(0,o.getChildren)(_,"life",5),w=0,E=void 0,O=0,j="start",P=function(){return V((0,o.randomElement)(S))},V=function(t){var e=f.timeDriver({durationMilliseconds:E,loopCount:1,mirror:!1}),n=f.samplers.linear(27,-30),r=f.animate(e,n);t.animationSignal=r,t.animationDriver=e,t.element.transform.y=r,e.start(),e.onCompleted().subscribe(function(t){"playing"===j&&P()}),t.animationSignal.lt(-15).monitor().subscribe(function(t){k(-1)})},R=(g.monitor().subscribe(function(t){if(t.newValue&&"playing"===j){var e=v.x.lastValue,n=v.y.lastValue;S.forEach(function(t){var r=t.element.transform.x.lastValue,u=t.element.transform.y.lastValue;(0,i.default)(e,n,r,u,15,15)&&(w+=5,(0,o.updateText)(p,"score: "+w.toString()),(0,o.updateText)(C,"Congratulations!\n You Scored:\n "+w.toString()),t.animationDriver.reset())})}}),function(){j="playing",(0,o.updateText)(p,"score: "+w.toString()),O+=5,(0,o.hide)(x),(0,o.showMultiple)([_,m,h]),E=4e3,w=0,F(O),P()}),k=function(t){O?F(O+=t):(c.log("game over!"),I())},F=function(t){q.forEach(function(e,n){(0,o.toggle)(e,!(n<t))})},B=function(t){(0,o.updateText)(C,"Congratulations!\n You Scored:\n "+w.toString()),(0,o.toggle)(y,!t)},I=function(){j="stopped",(0,o.hideMultiple)([_,m,h]),B(!0),S.forEach(function(t){t.animationDriver&&(t.animationDriver.reset(),t.animationDriver.stop()),t.randomTimeId&&l.clearTimeout(t.randomTimeId)})};(0,o.tapRegistrar)(b,function(t){c.log("start!"),(0,o.hide)(x),(0,o.show)(D),(0,r.default)(5,0,1e3,function(t){return(0,o.updateText)(T,t.toString())},function(){(0,o.hide)(D),R()})}),(0,o.tapRegistrar)(M,function(t){c.log("restart!"),B(!1),R()})}]);